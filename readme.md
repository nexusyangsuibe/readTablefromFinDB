# readTableFromFinDB

作用：配置菜单式读取合并从csmar或cnrds下载的数据包，配置菜单格式见app.py，使用的不同情境见test/app_test.py

优点：用户从csmar下载数据后无需解压缩，从cnrds下载数据并解压缩后无需亲自从文件夹中遍历，就可以简单快速地使用本程序完成读取拼接数据文件的任务
（注：将csmar格式处理为自动从压缩文件中读取而将cnrds格式处理为需要用户先手动解压缩的考量是 1、csmar下载占用硬盘空间较大的数据文件时通常会采用要求逐年下载多个压缩包的方式，因此需要解压多次，因此使用程序自动解压读取可以节约时间，而cnrds通常采用一个压缩包内部多层次的文件夹目录结构形式。只需解压一次，使用程序解压缩并不节省太多时间；2、丰富程序可以处理的数据文件形式，即可以从压缩包中读取也可以直接从文件夹中读取，在这里csmar和cnrds只是作为这两种形式的典型使用场景而这样命名，并不是说只能处理从csmar或cnrds下载的数据，但从非csmar下载压缩包格式数据处理时应注意zip_starts_with不能为"all"或"auto"，需要手动指定，否则程序会自动按照csmar的命名方式查找要处理的压缩文件导致错误）

特点：采用先确定要读取的数据文件的位置再使用多进程读取最大限度利用现代计算机的多核性能（相较于简单的使用for-loop遍历目录并顺序读写），使用pickle格式存储中间过程以减少过程内存占用来确保大的数据文件可以被顺利高效读取

其他：有任何的bug或改进意见都欢迎在issue中提出（当然也欢迎通过nexus_yang@126.com邮件私发给我），会持续改进；requirements.txt仅供参考，应该numpy和pandas任何版本都行（吧）

待完成的工作：用pyqt创建一个交互式的用户界面，加入对csmar的爬虫（csmar很多日频数据只能逐年下载，且每个压缩包中都会有许多excel文件，因此手动拼接这些数据很麻烦，这是我写这个程序的动机，但其实逐年下载这一步就已经够麻烦的了，特别是csmar先要点下载进入下载界面再从下载界面点下载数据要走两步，这应该实现自动化）